body{
  font-family:Arial, sans-serif;
  background:linear-gradient(135deg,#0B2A44,#123B5A);
  margin:0;
  padding:30px;
}

.card{
  max-width:900px;
  margin:auto;
  background:#fff;
  padding:30px;
  border-radius:18px;
  box-shadow:0 15px 40px rgba(0,0,0,.3);
  border-top:6px solid #FDB913;
}

h2{
  text-align:center;
  color:#0B2A44;
  margin-bottom:10px;
}

.subtitle{
  text-align:center;
  color:#666;
  font-size:14px;
  margin-bottom:20px;
}

input,select,button,textarea{
  width:100%;
  padding:12px;
  margin-top:8px;
  border-radius:10px;
  border:1px solid #ccc;
  font-size:15px;
  transition:0.2s;
}

input:focus,select:focus,textarea:focus{
  outline:none;
  border-color:#FDB913;
  box-shadow:0 0 0 2px rgba(253,185,19,.2);
}

button{
  background:#FDB913;
  color:#000;
  font-weight:bold;
  border:none;
  cursor:pointer;
  margin-top:20px;
}

button:hover{
  opacity:0.9;
  transform:translateY(-1px);
}

.section{
  margin-top:25px;
  padding-top:15px;
  border-top:1px solid #eee;
}

.label{
  font-weight:bold;
  color:#0B2A44;
  margin-top:10px;
}

#map{
  width:100%;
  height:280px;
  margin-top:12px;
  border-radius:12px;
  border:1px solid #ddd;
}

table{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
}

th,td{
  border:1px solid #ddd;
  padding:8px;
  text-align:center;
}

th{
  background:#f5f7fa;
  color:#0B2A44;
}

.smallbtn{
  background:#e9f0f7;
  color:#0B2A44;
  border:1px solid #ccc;
  font-weight:bold;
  padding:6px 10px;
  border-radius:6px;
}

.price{
  font-size:18px;
  text-align:center;
  margin-top:25px;
  padding:15px;
  background:#f8fafc;
  border-radius:12px;
  border:1px solid #e0e6ec;
}

.price strong{
  font-size:24px;
  color:#0B2A44;
}

.note{
  font-size:13px;
  color:#777;
  text-align:center;
  margin-top:10px;
}


<div class="header">
  <div class="logo">ðŸšš LÃ©man-Courses</div>
  <div class="slogan">Transport express â€“ Suisse romande</div>
</div>

<div class="app">

  <input id="code" placeholder="NumÃ©ro de suivi" style="width:100%;padding:12px;border-radius:10px;border:1px solid #ccc">
  <button onclick="loadSuivi()" style="margin-top:10px;width:100%;padding:12px;border-radius:10px;background:#5B6CFF;color:#fff;border:none;font-weight:700">
    Suivre mon colis
  </button>

  <div id="error" class="error"></div>

  <div id="result" style="display:none">

    <div class="card">
      <div id="badge" class="badge"></div>
      <div class="row"><strong>Client :</strong> <span id="f_client"></span></div>
      <div class="row"><strong>Trajet :</strong> <span id="f_depart"></span> â†’ <span id="f_arrivee"></span></div>
      <div class="row"><strong>Distance :</strong> <span id="f_km"></span></div>
      <div class="row"><strong>DurÃ©e :</strong> <span id="f_duree"></span></div>
      <div class="row"><strong>DerniÃ¨re mise Ã  jour :</strong> <span id="f_update"></span></div>
    </div>

    <div class="card">
      <strong>Historique</strong>
      <div id="timeline" class="timeline"></div>
    </div>

  </div>
</div>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbxyrSTQETLmwE94AQWwQ3HZ82dOOssy4a72CxBIFS9pdSjWFOMapogQG2j61FPHkdn1/exec";

function loadSuivi(){
  const id = document.getElementById("code").value.trim();
  if(!id) return;

  fetch(API_URL + "?id=" + encodeURIComponent(id))
    .then(r => r.json())
    .then(d => {
      if(d.error){
        document.getElementById("error").textContent = d.error;
        return;
      }

      document.getElementById("result").style.display="block";
      document.getElementById("error").textContent="";

      f_client.textContent = d.client;
      f_depart.textContent = d.depart;
      f_arrivee.textContent = d.arrivee;
      f_km.textContent = d.km + " km";
      f_duree.textContent = d.duree;
      f_update.textContent = d.date;

      // badge
      const b = document.getElementById("badge");
      b.textContent = d.statut;
      b.className = "badge " + (
        d.statut=="LivrÃ©" ? "livre" :
        d.statut=="En livraison" ? "livraison" :
        d.statut=="Pris en charge" ? "prise" : "attente"
      );

      // timeline
      timeline.innerHTML="";
      d.history.forEach(h=>{
        timeline.innerHTML += `
          <div class="step">
            <div class="dot active"></div>
            <div>${h.date} â€“ ${h.statut} ${h.comment||""}</div>
          </div>
          <div class="line"></div>
        `;
      });
    })
    .catch(()=>{
      document.getElementById("error").textContent="Erreur de connexion";
    });
}
</script>
</body>
</html>
