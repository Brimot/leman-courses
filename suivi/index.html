<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Test distance</title>
</head>
<body>

<h2>Test calcul distance</h2>

<input id="o" placeholder="Origine (ex: Lausanne)">
<input id="d" placeholder="Destination (ex: Genève)">

<button onclick="calculer()">Calculer</button>

<p>KM: <span id="km">–</span></p>
<p>Durée: <span id="min">–</span></p>

<script>
function calculer(){
  const o = document.getElementById("o").value;
  const d = document.getElementById("d").value;

  fetch("https://script.google.com/macros/s/TON_ID/exec?action=distance"
    + "&origin=" + encodeURIComponent(o)
    + "&dest=" + encodeURIComponent(d))
  .then(r => r.json())
  .then(res => {
    console.log(res);
    document.getElementById("km").innerText = res.km;
    document.getElementById("min").innerText = res.duree;
  })
  .catch(err => alert("Erreur: " + err));
}
</script>

</body>
</html>
